import { spawn } from "child_process";

export function transcodeAudio(input: string, output: string) {
  return new Promise<void>((resolve, reject) => {
    const ffmpeg = spawn("ffmpeg", ["-i", input, "-codec:a", "libmp3lame", output]);

    ffmpeg.on("close", (code) => {
      if (code === 0) resolve();
      else reject(new Error("Error en ffmpeg"));
    });
  });
}